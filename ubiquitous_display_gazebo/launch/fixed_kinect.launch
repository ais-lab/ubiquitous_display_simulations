<?xml version="1.0" encoding="utf-8"?>

<launch>
    <arg name="ubiquitous_display_description" default="true"/>
    <arg name="x" default="-0.02"/>
    <arg name="y" default="-0.14"/>
    <arg name="z" default="10.0"/>
    <arg name="roll" default="-1.57"/>
    <arg name="pitch" default="0"/>
    <arg name="yaw" default="0"/>

    <param if="$(arg ubiquitous_display_description)"
           name="robot_description"
           command="$(find xacro)/xacro.py
                    --inorder $(find ubiquitous_display_description)/robots/kinect.urdf.xacro
                    gazebo:=true"/>

    <!-- Publish a static transform between the world and the base of the kinect -->
    <node pkg="tf2_ros" type="static_transform_publisher"
          name="foot_to_world"
          args="$(arg x) $(arg y) $(arg z) 0 0 0 1 world footprint"/>

    <!-- Spawn the kinect sensor -->
    <node name="kinect_urdf_spawner" pkg="gazebo_ros" type="spawn_model"
          respawn="false" output="screen"
          args="-param robot_description -urdf
                -x $(arg x)
                -y $(arg y)
                -z $(arg z)
		            -R $(arg roll)
		            -P $(arg pitch)
		            -Y $(arg yaw)
                -model fixed_kinect"/>

    <node name="kinect_state_publisher" pkg="robot_state_publisher"
          type="robot_state_publisher">
    </node>
</launch>
